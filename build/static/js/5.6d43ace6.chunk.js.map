{"version":3,"sources":["components/Profile/UserProfile.module.css","components/Profile/UserProfile.js","assets/pic.png"],"names":["module","exports","UserProfile","auth","useContext","AuthContext","navigate","useNavigate","useState","name","setName","account","setAccount","balance","setBalance","withD","setWithD","dep","setDep","withDrawButt","setWithDrawButt","depositButt","setDepositButt","populateProfile","a","fetch","process","headers","Authorization","token","req","json","data","status","alert","useEffect","jwt","decode","localStorage","removeItem","onWithDraw","event","preventDefault","newBalance","Number","Axios","put","onDeposit","onDelete","logout","err","console","log","className","classes","page","profile","Card","pic","Img","variant","src","Body","Title","Button","butt","onClick","prevState","butt2","info","Text","onSubmit","InputGroup","FormControl","placeholder","value","type","onChange","e","target","required"],"mappings":"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","file":"static/js/5.6d43ace6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"UserProfile_page__3pUqD\",\"profile\":\"UserProfile_profile__17zcT\",\"pic\":\"UserProfile_pic__3q3J7\",\"butt\":\"UserProfile_butt__DDC_0\",\"butt2\":\"UserProfile_butt2__2km0i\",\"info\":\"UserProfile_info__3BEtM\"};","import classes from './UserProfile.module.css';\nimport { Card, Button, InputGroup, FormControl } from 'react-bootstrap';\nimport { useContext, useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router'\nimport jwt from 'jsonwebtoken'\nimport img1 from '../../assets/pic.png'\nimport Axios from 'axios'\nimport { AuthContext } from '../../shared/context/auth-context';\n\nconst UserProfile = () => {\n  const auth = useContext(AuthContext)\n  const navigate = useNavigate()\n  const [name, setName] = useState('')\n  const [account, setAccount] = useState('')\n  const [balance, setBalance] = useState('')\n  const [withD, setWithD] = useState('')\n  const [dep, setDep] = useState('')\n  const [withDrawButt, setWithDrawButt] = useState(false);\n  const [depositButt, setDepositButt] = useState(false);\n\n  const withButton = () => {\n    setWithDrawButt((prevState) => !prevState);\n  };\n\n  const depButton = () => {\n    setDepositButt((prevState) => !prevState);\n  };\n\n\n\n  const populateProfile = async () => {\n    const req = await fetch(`${process.env.REACT_APP_BACKEND_URL}/profile`, {\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + auth.token\n      }\n    })\n    const data = await req.json()\n    if (data.status === 'ok') {\n      setAccount(data.account)\n      setName(data.name)\n      setBalance(data.balance)\n    }\n    else {\n      alert('error')\n    }\n\n  }\n\n\n  useEffect(() => {\n    const token = auth.token\n    if (token) {\n      const user = jwt.decode(token)\n      if (!user) {\n        localStorage.removeItem('token')\n        navigate('/')\n      } else {\n        populateProfile()\n      }\n    }\n\n  })\n\n  const onWithDraw = async (event) => {\n    event.preventDefault()\n    const newBalance = Number(balance) - Number(withD)\n\n    Axios.put(`${process.env.REACT_APP_BACKEND_URL}/withdraw`,\n      { name: name, balance: newBalance },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + auth.token\n        }\n      },\n      setBalance(newBalance)\n\n    )\n\n  }\n\n\n  const onDeposit = async (event) => {\n    event.preventDefault()\n    const newBalance = Number(balance) + Number(dep)\n    setBalance(newBalance)\n\n    Axios.put(`${process.env.REACT_APP_BACKEND_URL}/deposit`,\n      { name: name, balance: newBalance },\n      {\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + auth.token\n        }\n      },\n      setBalance(newBalance)\n\n    )\n\n  }\n\n\n  const onDelete = async (event) => {\n    event.preventDefault()\n    try {\n      Axios.put(`${process.env.REACT_APP_BACKEND_URL}/delete`,\n        { name: name },\n        {\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + auth.token\n          }\n        },\n        auth.logout(),\n        navigate('/')\n      )\n    } catch (err) {\n      console.log(err)\n    }\n\n  }\n\n\n\n\n\n\n  return (\n    <section className={classes.page}>\n      <div className={classes.profile}>\n        <Card className={classes.pic} >\n          <Card.Img variant=\"top\" src={img1} />\n          <Card.Body>\n            <Card.Title><h2>{name}</h2></Card.Title>\n          </Card.Body>\n          <div>\n            <Button className={classes.butt} onClick={depButton}>Deposit</Button>\n            <Button className={classes.butt} onClick={withButton}>Withdraw</Button>\n            <Button className={classes.butt2} onClick={onDelete} variant='danger'>Delete</Button>\n          </div>\n        </Card>\n        <div className={classes.info}>\n          <Card >\n            <Card.Body>\n              <Card.Title><h3>Account Number</h3></Card.Title>\n              <Card.Text>\n                <h4>{account || 'Not Found'}</h4>\n              </Card.Text>\n            </Card.Body>\n          </Card>\n          <Card>\n            <Card.Body>\n              <Card.Title><h3>Balance</h3></Card.Title>\n              <Card.Text>\n                <h4>{balance || 'Not Found'}</h4>\n              </Card.Text>\n            </Card.Body>\n          </Card>\n          <Card>\n            <Card.Body>\n              <Card.Title><h3>Description</h3></Card.Title>\n              <Card.Text>\n                Lorem Ipsum is simply dummy text of the printing and typesetting industry.\n                Lorem Ipsum has been the industry's standard dummy text ever since the 1500s.\n              </Card.Text>\n            </Card.Body>\n          </Card>\n          <div>\n            {\n              withDrawButt ?\n                <form onSubmit={onWithDraw}>\n                  <InputGroup>\n                    <FormControl\n                      placeholder=\"Enter Withdraw Amount\"\n                      aria-label=\"Recipient's username\"\n                      value={withD}\n                      type='number'\n                      onChange={(e) => setWithD(e.target.value)}\n                      required\n                    />\n                    <button>Submit</button>\n                  </InputGroup>\n                </form> : null\n            }\n          </div>\n          <div>\n            {\n              depositButt ?\n                <form onSubmit={onDeposit}>\n                  <InputGroup>\n                    <FormControl\n                      placeholder=\"Enter Deposit Amount\"\n                      aria-label=\"Recipient's username\"\n                      value={dep}\n                      type='number'\n                      onChange={(e) => setDep(e.target.value)}\n                      required\n                    />\n                    <button>Submit</button>\n                  </InputGroup>\n                </form> : null\n            }\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n\nexport default UserProfile;\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAM1BMVEXk5ueutLeqsbTn6eqpr7PJzc/j5ebf4eLZ3N2wtrnBxsjN0NLGysy6v8HT1tissra8wMNxTKO9AAAFDklEQVR4nO2d3XqDIAxAlfivoO//tEOZWzvbVTEpic252W3PF0gAIcsyRVEURVEURVEURVEURVEURVEURVEURVEURVEURflgAFL/AirAqzXO9R7XNBVcy9TbuMHmxjN6lr92cNVVLKEurVfK/zCORVvW8iUBnC02dj+Wpu0z0Y6QlaN5phcwZqjkOkK5HZyPAjkIjSO4fIdfcOwFKkJlX4zPu7Ha1tIcwR3wWxyFhRG6g4Je0YpSPDJCV8a2Sv2zd1O1x/2WMDZCwljH+clRrHfWCLGK8REMiql//2si5+DKWKcWeAGcFMzzNrXC/0TUwQ2s6+LhlcwjTMlYsUIQzPOCb7YBiyHopyLXIEKPEkI/TgeuiidK/R9FniUDOjRDpvm0RhqjMyyXNjDhCfIMYl1gGjIMIuYsnGEYRMRZOMMunaLVwpWRW008v6fYKDIzxCwVAeNSO90BJW6emelYBRF/kHpYGVaoxTDAaxOFsfP9y8hpJ4xd7gOcij7JNGQ1EYFgkPJa1jQEiYZXRaRINKxSDUW9n+FT82lSKadkiru9/4XPqSLWOekGPoY05TAvLm9orm+YWuwHoBHkZKijNBJGmeb61eL6Ff/6q7bLr7yvv3vKGhpDRjvgjGaPz+gUg6YgcvpyAR2FIZ9U6nEEyZRTovmEU32KichpGn7C17XrfyH9gK/c0CMP05HZIM2uf9sEveizKveBy9/6Qt7o89ne33D525cfcIMW6ab+TMEukQbQbu+xu7X3A9bChmWaCeAkG17bpntwXgWxHaMzGPmUaR5dQZiKqRVeUZ3047fi3nAu28h4CHxCsZAgmEH8Y27jJAhm8c+5RQzRQNVGhVFSfxOYIjp/pP7RxzjevYXVGf4eLt+BJ1vCuLuLkrgABgCGXZ2wik5uty+oBvNirI6mkzhAf4Gsb58Hcm67Jzd+KwD10BYPLL3e0MjvKrgAULnOfveF/O4N2Xb9BZom3gJes3F9X5Zze8/6Yt09b4CrqsEjUv8oFBaR2rl+6CZr2xVrp24o/WitBKuGrrpl1+bFkmK2qXTON4VpbdfLa7o7y/WdLxG7lm2Lqh2clOwTegbvc/vj2U78CwhA87Bn8G5Nk3eOb0Nsr9flz3sG78UUtue4kpv1xvjg3TMay62BMlTlP+vrOMnJsRmt/ze0jsfkPPYdAH57hK+34PeOyc8XIXu5xT2HsUkdZz+adwg8HGFfQ3K5jtDvbUiO4Di9/ywHGrL88pDizZ++oTp+an+SMX/ndymUCwmHMdO7yuOx83pUx/eEMU0AvxWndwgidAqOZ8ypCwdEfvvEo6D9HwpA8wzvmOJEqAg9ySu8g4x0Hb9hSB/BANEKJ+LbPBU0lzbAJs4xt1AoshKkUGQmiH8/jJ0gdhTTLmSegHlPE0oOdXALnqDjKYh3px//fSgSWG8UqfrrIICzYYSJXRr9BSPbpNzw7gBjKjKOYI7ReIGqQRIap5+5MdjyvuDkExvGeXSlONWZAP3/AZBwJohU7QJRGU+cTVH18ELmRPNBmibW6MT/k1b0XhdkRBvyT6SB6EYv/GvhSmRNpGngRULsAlxMCGNXp7w3FfdEbTEEDdLI9TdIKRUzUesa3I461ER8cpNT7gMRhpKmYVS9ELOgCUQsa4SsulciKiLbY+AnHD8cpuhISsnxpamI84sbDq9qYJgf8wiiOBrC7Ml7M7ZECCqKoiiKoiiKoiiKoijv5AvJxlZRyNWWLwAAAABJRU5ErkJggg==\""],"sourceRoot":""}